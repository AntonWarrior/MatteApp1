#/import DerivataApp1/Dervivata5.py

<HomeScreen>
    #
    practice_loop: root.practice_loop
    knapp_kedjeregeln: root.knapp_kedjeregeln
    knapp_poly_hel: root.knapp_poly_hel
    knapp_poly_halv: root.knapp_poly_halv
    knapp_exp_e: root.knapp_exp_e
    knapp_exp_n: root.knapp_exp_n
    #
    canvas:
        Color:
            rgb: utils.get_color_from_hex("#737373")
        Rectangle:
            size: self.size
            pos: self.pos
    GridLayout:
        cols: 7
        orientation: 'vertical'
        Label:
            text: 'Matteproblem'
            size_hint:0.6,0.2

        Label:
            id: st
            text: 'st'
            size_hint:0.1,0.2

        Label:
            text: 'Minuter'
            size_hint:0.1,0.2

        Label:
            text: '% fel'
            size_hint:0.1,0.2

        Label:
            text: 'Välj'
            size_hint:0.1,0.2

        Label:
            text: ''
            size_hint:0.1,0.2

        Label:
            text: 'Ordning'
            size_hint:0.1,0.2

        #rad 1
        ToggleButton:
            group: 'method'
#           id: TB1_0
            font_size: 13
            bold: True
            text_color: utils.get_color_from_hex("#f2f2f2")
            text:"Kedjeregeln"
            on_press:
                root.knapp_kedjeregeln.TB0_state = 'down'
                root.knapp_poly_hel.TB0_state = 'normal'
            background_color: utils.get_color_from_hex("f5f5f5")
            state: root.knapp_kedjeregeln.TB0_state
        Button:
            text:str(root.knapp_kedjeregeln.antal) + ' st'
        Button:
            text:str(root.knapp_kedjeregeln.minuter_ova_regel) + ' min'

        Button:
            text:str(root.knapp_kedjeregeln.felproc_ova_regel) + '%'

        ToggleButton:
 #           id: TB11
            group: 'kedjeregeln'
            text:'Förenkla'
            on_press:
                root.knapp_kedjeregeln.TB11_state = 'down'
                root.knapp_kedjeregeln.TB11_state = 'normal'
            state: root.knapp_kedjeregeln.TB11_state
            background_color: utils.get_color_from_hex("f5f5f5")
        ToggleButton:
 #           id: TB12
            group: 'kedjeregeln'
            text:'Expandera'
            on_press:
                root.knapp_kedjeregeln.TB11_state = 'normal'
                root.knapp_kedjeregeln.TB12_state = 'down'
            state: root.knapp_kedjeregeln.TB12_state
            background_color: utils.get_color_from_hex("f5f5f5")

        TextInput:
 #           id:TI_1
            text: str(root.knapp_kedjeregeln.n_st)
            halign: 'center'
            multiline: False
            on_text:
                root.knapp_kedjeregeln.n_st = int(self.text)
                print(root.knapp_kedjeregeln.n_st)

        #rad 2
        ToggleButton:
            group: 'method'
#            id: TB2_0
            font_size: 13
            bold: True
            text_color: utils.get_color_from_hex("#f2f2f2")
            text:"Polynom Heltal"
            on_press:
                root.knapp_kedjeregeln.TB0_state = 'normal'
                root.knapp_poly_hel.TB0_state = 'down'
            background_color: utils.get_color_from_hex("#f5f5f5")
            state: root.knapp_poly_hel.TB0_state
        Button:
            text:str(root.knapp_poly_hel.antal) + ' st'
        Button:
            text:str(root.knapp_poly_hel.minuter_ova_regel) + ' min'

        Button:
            text:str(root.knapp_poly_hel.felproc_ova_regel) + '%'

        ToggleButton:
 #           id: TB21
            group: 'poly_hel'
            text:'Derivera'
            on_press:
                root.knapp_poly_hel.TB11_state = 'down'
                root.knapp_poly_hel.TB12_state = 'normal'
             #   root.update()
              #  root.animate_text()
            state: root.knapp_poly_hel.TB11_state
            group: 'TB_rad2'
            background_color: utils.get_color_from_hex("f5f5f5")


        ToggleButton:
 #           id: TB22
            group: 'poly_hel'
            text:'Integrera'
            on_press:
                root.knapp_poly_hel.TB11_state = 'normal'
                root.knapp_poly_hel.TB12_state = 'down'
                #root.update()
                #root.animate_text()
            state: root.knapp_poly_hel.TB12_state
            group: 'TB_rad2'
            background_color: utils.get_color_from_hex("f5f5f5")

        TextInput:
 #           id:TI_2
            text: str(root.knapp_poly_hel.n_st)
            halign: 'center'
            multiline: False
            on_text:
                root.knapp_poly_hel.n_st = int(self.text)
                print(root.knapp_poly_hel.n_st)

        #Nedersta raden
        Button:
            text:"Med hjälp"
            size_hint:0.6,0.2
            on_press: root.selected_method(root.knapp_kedjeregeln,root.knapp_poly_hel,edu_sign=True )
            on_release:
                root.practice_loop = False
                app.change_screen("rakna_screen")
                root.manager.transition.direction = 'left'
        Button:
            id: starta
            text:"Öva"
            on_press:root.selected_method(root.knapp_kedjeregeln,root.knapp_poly_hel,edu_sign=False)
            on_release:
                root.practice_loop = False
                app.change_screen("rakna_screen")
                root.manager.transition.direction = 'left'
            size_hint:0.6,0.2
            pos_hint: {"right": .3}

        Button:
            text:"Öva på tid"
            size_hint:0.6,0.2
            pos_hint: {"right": .5}
            on_press:root.selected_method(root.knapp_kedjeregeln,root.knapp_poly_hel,edu_sign=False)
            on_release:
                root.practice_loop = True
                app.change_screen("rakna_screen")
                root.manager.transition.direction = 'left'
