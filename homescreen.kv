#/import DerivataApp1/Dervivata5.py

<HomeScreen>
    #
    practice_loop: root.practice_loop
    knapp_kedjeregeln: root.knapp_kedjeregeln
    knapp_poly_hel: root.knapp_poly_hel
    knapp_poly_halv: root.knapp_poly_halv
    knapp_exp_e: root.knapp_exp_e
    knapp_exp_n: root.knapp_exp_n
    #
    canvas:
        Color:
            rgb: utils.get_color_from_hex("#737373")
        Rectangle:
            size: self.size
            pos: self.pos
    GridLayout:
        cols: 7
        orientation: 'vertical'
        Label:
            text: 'Matteproblem'
            size_hint:0.6,0.2

        Label:
            id: st
            text: 'st'
            size_hint:0.1,0.2

        Label:
            text: 'Minuter'
            size_hint:0.1,0.2

        Label:
            text: '% fel'
            size_hint:0.1,0.2

        Label:
            text: 'Välj'
            size_hint:0.1,0.2

        Label:
            text: ''
            size_hint:0.1,0.2

        Label:
            text: 'Ordning'
            size_hint:0.1,0.2

        #rad 1
        ToggleButton:
            group: 'method'
#           id: TB1_0
            font_size: 13
            bold: True
            text_color: utils.get_color_from_hex("#f2f2f2")
            text:"Kedjeregeln"
            on_press:
                root.knapp_kedjeregeln.TB0_state = 'down'
                root.knapp_poly_hel.TB0_state = 'normal'
                root.knapp_poly_halv.TB0_state = 'normal'
                root.knapp_exp_e.TB0_state = 'normal'
                root.knapp_exp_n.TB0_state = 'normal'
            background_color: utils.get_color_from_hex("f5f5f5")
            state: root.knapp_kedjeregeln.TB0_state

        Button:
            id: R1antal
            text: root.knapp_kedjeregeln.antal + ' st'
        Button:
            id: R1min
            text: root.knapp_kedjeregeln.minuter_ova_regel + ' min'
        Button:
            id: R1proc
            text: root.knapp_kedjeregeln.felproc_ova_regel + '%'

        ToggleButton:
 #           id: TB11
            group: 'kedjeregeln'
            text:'Förenkla'
            on_press:
                root.knapp_kedjeregeln.TB11_state = 'down'
                root.knapp_kedjeregeln.TB11_state = 'normal'
            state: root.knapp_kedjeregeln.TB11_state
            background_color: utils.get_color_from_hex("f5f5f5")
        ToggleButton:
 #           id: TB12
            group: 'kedjeregeln'
            text:'Expandera'
            on_press:
                root.knapp_kedjeregeln.TB11_state = 'normal'
                root.knapp_kedjeregeln.TB12_state = 'down'
            state: root.knapp_kedjeregeln.TB12_state
            background_color: utils.get_color_from_hex("f5f5f5")

        TextInput:
            id:TI_1
            text: str(root.knapp_kedjeregeln.n_st)
            halign: 'center'
            multiline: False
            on_text:
                if TI_1.text.isnumeric() == False: TI_1.text = '2'
                elif int(TI_1.text) > 0: root.knapp_kedjeregeln.n_st = int(TI_1.text)
                else: TI_1.text = '2'

        #rad 2
        ToggleButton:
            group: 'method'
#            id: TB2_0
            font_size: 13
            bold: True
            text_color: utils.get_color_from_hex("#f2f2f2")
            text:"Polynom Heltal"
            on_press:
                root.knapp_kedjeregeln.TB0_state = 'normal'
                root.knapp_poly_hel.TB0_state = 'down'
                root.knapp_poly_halv.TB0_state = 'normal'
                root.knapp_exp_e.TB0_state = 'normal'
                root.knapp_exp_n.TB0_state = 'normal'
            background_color: utils.get_color_from_hex("#f5f5f5")
            state: root.knapp_poly_hel.TB0_state
        Button:
            id: R2antal
            text: root.knapp_poly_hel.antal + ' st'
        Button:
            id: R2min
            text: root.knapp_poly_hel.minuter_ova_regel + ' min'
        Button:
            id: R2proc
            text: root.knapp_poly_hel.felproc_ova_regel + '%'
        ToggleButton:
 #           id: TB21
            group: 'poly_hel'
            text:'Derivera'
            on_press:
                root.knapp_poly_hel.TB11_state = 'down'
                root.knapp_poly_hel.TB12_state = 'normal'
             #   root.update()
              #  root.animate_text()
            state: root.knapp_poly_hel.TB11_state
            group: 'TB_rad2'
            background_color: utils.get_color_from_hex("f5f5f5")
        ToggleButton:
 #           id: TB22
            group: 'poly_hel'
            text:'Integrera'
            on_press:
                root.knapp_poly_hel.TB11_state = 'normal'
                root.knapp_poly_hel.TB12_state = 'down'
                #root.update()
                #root.animate_text()
            state: root.knapp_poly_hel.TB12_state
            group: 'TB_rad2'
            background_color: utils.get_color_from_hex("f5f5f5")

        TextInput:
            id:TI_2
            text: str(root.knapp_poly_hel.n_st)
            halign: 'center'
            multiline: False
            on_text:
                if TI_2.text.isnumeric() == False: TI_2.text = '2'
                elif int(TI_2.text) > 0: root.knapp_poly_hel.n_st = int(TI_2.text)
                else: TI_2.text = '2'

        #rad 3
        ToggleButton:
            group: 'method'
#            id: TB3_0
            font_size: 13
            bold: True
            text_color: utils.get_color_from_hex("#f2f2f2")
            text:"Polynom Halvtal"
            on_press:
                root.knapp_kedjeregeln.TB0_state = 'normal'
                root.knapp_poly_hel.TB0_state = 'normal'
                root.knapp_poly_halv.TB0_state = 'down'
                root.knapp_exp_e.TB0_state = 'normal'
                root.knapp_exp_n.TB0_state = 'normal'
            background_color: utils.get_color_from_hex("#f5f5f5")
            state: root.knapp_poly_halv.TB0_state
        Button:
            id: R3antal
            text: root.knapp_poly_halv.antal + ' st'
        Button:
            id: R3min
            text: root.knapp_poly_halv.minuter_ova_regel + ' min'
        Button:
            id: R3proc
            text: root.knapp_poly_halv.felproc_ova_regel + '%'
        ToggleButton:
 #           id: TB31
            group: 'poly_halv'
            text:'Derivera'
            on_press:
                root.knapp_poly_halv.TB11_state = 'down'
                root.knapp_poly_halv.TB12_state = 'normal'
             #   root.update()
              #  root.animate_text()
            state: root.knapp_poly_halv.TB11_state
            group: 'TB_rad3'
            background_color: utils.get_color_from_hex("f5f5f5")
        ToggleButton:
 #           id: TB32
            group: 'poly_halv'
            text:'Integrera'
            on_press:
                root.knapp_poly_halv.TB11_state = 'normal'
                root.knapp_poly_halv.TB12_state = 'down'
                #root.update()
                #root.animate_text()
            state: root.knapp_poly_halv.TB12_state
            group: 'TB_rad3'
            background_color: utils.get_color_from_hex("f5f5f5")

        TextInput:
            id:TI_3
            text: str(root.knapp_poly_halv.n_st)
            halign: 'center'
            multiline: False
            on_text:
                if TI_3.text.isnumeric() == False: TI_3.text = '2'
                elif int(TI_3.text) > 0: root.knapp_poly_halv.n_st = int(TI_3.text)
                else: TI_3.text = '2'


       #rad 4
        ToggleButton:
            group: 'method'
#            id: TB3_0
            font_size: 13
            bold: True
            text_color: utils.get_color_from_hex("#f2f2f2")
            text:"Exponential e"
            on_press:
                root.knapp_kedjeregeln.TB0_state = 'normal'
                root.knapp_poly_hel.TB0_state = 'normal'
                root.knapp_poly_halv.TB0_state = 'normal'
                root.knapp_exp_e.TB0_state = 'down'
                root.knapp_exp_n.TB0_state = 'normal'
            background_color: utils.get_color_from_hex("#f5f5f5")
            state: root.knapp_exp_e.TB0_state
        Button:
            id: R4antal
            text: root.knapp_exp_e.antal + ' st'
        Button:
            id: R4min
            text: root.knapp_exp_e.minuter_ova_regel + ' min'
        Button:
            id: R4proc
            text: root.knapp_exp_e.felproc_ova_regel + '%'
        ToggleButton:
 #           id: TB41
            group: 'exp_e'
            text:'Derivera'
            on_press:
                root.knapp_exp_e.TB11_state = 'down'
                root.knapp_exp_e.TB12_state = 'normal'
             #   root.update()
              #  root.animate_text()
            state: root.knapp_exp_e.TB11_state
            group: 'TB_rad3'
            background_color: utils.get_color_from_hex("f5f5f5")
        ToggleButton:
 #           id: TB42
            group: 'exp_e'
            text:'Integrera'
            on_press:
                root.knapp_exp_e.TB11_state = 'normal'
                root.knapp_exp_e.TB12_state = 'down'
                #root.update()
                #root.animate_text()
            state: root.knapp_exp_e.TB12_state
            group: 'TB_rad4'
            background_color: utils.get_color_from_hex("f5f5f5")

        TextInput:
            id:TI_4
            text: str(root.knapp_exp_e.n_st)
            halign: 'center'
            multiline: False
            on_text:
                if TI_4.text.isnumeric() == False: TI_4.text = '2'
                elif int(TI_4.text) > 0: root.knapp_exp_e.n_st = int(TI_4.text)
                else: TI_4.text = '2'
        #rad 5
        ToggleButton:
            group: 'method'
#            id: TB5_0
            font_size: 13
            bold: True
            text_color: utils.get_color_from_hex("#f2f2f2")
            text:"Exponential n"
            on_press:
                root.knapp_kedjeregeln.TB0_state = 'normal'
                root.knapp_poly_hel.TB0_state = 'normal'
                root.knapp_poly_halv.TB0_state = 'normal'
                root.knapp_exp_e.TB0_state = 'normal'
                root.knapp_exp_n.TB0_state = 'down'
            background_color: utils.get_color_from_hex("#f5f5f5")
            state: root.knapp_exp_n.TB0_state
        Button:
            id: R5antal
            text: root.knapp_exp_n.antal + ' st'
        Button:
            id: R5min
            text: root.knapp_exp_n.minuter_ova_regel + ' min'
        Button:
            id: R5proc
            text: root.knapp_exp_n.felproc_ova_regel + '%'
        ToggleButton:
 #           id: TB51
            group: 'exp_n'
            text:'Derivera'
            on_press:
                root.knapp_exp_n.TB11_state = 'down'
                root.knapp_exp_n.TB12_state = 'normal'
             #   root.update()
              #  root.animate_text()
            state: root.knapp_exp_n.TB11_state
            group: 'TB_rad5'
            background_color: utils.get_color_from_hex("f5f5f5")
        ToggleButton:
 #           id: TB52
            group: 'exp_n'
            text:'Integrera'
            on_press:
                root.knapp_exp_n.TB11_state = 'normal'
                root.knapp_exp_n.TB12_state = 'down'
                #root.update()
                #root.animate_text()
            state: root.knapp_exp_n.TB12_state
            group: 'TB_rad5'
            background_color: utils.get_color_from_hex("f5f5f5")

        TextInput:
            id:TI_5
            text: str(root.knapp_exp_n.n_st)
            halign: 'center'
            multiline: False
            on_text:
                if TI_5.text.isnumeric() == False: TI_5.text = '2'
                elif int(TI_5.text) > 0: root.knapp_exp_n.n_st = int(TI_5.text)
                else: TI_5.text = '2'
        #Nedersta raden
        Button:
            text:"Med hjälp"
            size_hint:0.6,0.2
            on_press:
                root.selected_method(root.knapp_kedjeregeln, root.knapp_poly_hel, root.knapp_poly_halv, root.knapp_exp_e, root.knapp_exp_n, edu_sign=True )
            on_release:
                app.change_screen("rakna_screen")
                root.manager.transition.direction = 'left'
        Button:
            id: starta
            text:"Öva"
            on_press:root.selected_method(root.knapp_kedjeregeln,root.knapp_poly_hel,root.knapp_poly_halv, root.knapp_exp_e, root.knapp_exp_n,edu_sign=False)
            on_release:
                root.practice_loop = False
                app.change_screen("rakna_screen")
                root.manager.transition.direction = 'left'
            size_hint:0.6,0.2
            pos_hint: {"right": .3}

        #Inte färdig
        #Button:
         #   text:"Öva på tid"
          #  size_hint:0.6,0.2
           # pos_hint: {"right": .5}
           # on_press:root.selected_method(root.knapp_kedjeregeln,root.knapp_poly_hel,root.knapp_poly_halv, root.knapp_exp_e, root.knapp_exp_n,edu_sign=False)
           # on_release:
            #    root.practice_loop = True
             #   app.change_screen("rakna_screen")
              #  root.manager.transition.direction = 'left'
